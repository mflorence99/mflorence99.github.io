"use strict";var B=(C,A,h)=>new Promise((l,v)=>{var g=S=>{try{L(h.next(S))}catch(b){v(b)}},D=S=>{try{L(h.throw(S))}catch(b){v(b)}},L=S=>S.done?l(S.value):Promise.resolve(S.value).then(g,D);L((h=h.apply(C,A)).next())});(self.webpackChunkwashington_app=self.webpackChunkwashington_app||[]).push([[9695],{9695:(C,A,h)=>{h.r(A),h.d(A,{startInputShims:()=>W});var l=h(2377);const v=new WeakMap,g=(e,n,t,o=0)=>{v.has(e)!==t&&(t?L(e,n,o):S(e,n))},D=e=>e===e.getRootNode().activeElement,L=(e,n,t)=>{const o=n.parentNode,s=n.cloneNode(!1);s.classList.add("cloned-input"),s.tabIndex=-1,o.appendChild(s),v.set(e,s);const d="rtl"===e.ownerDocument.dir?9999:-9999;e.style.pointerEvents="none",n.style.transform=`translate3d(${d}px,${t}px,0) scale(0)`},S=(e,n)=>{const t=v.get(e);t&&(v.delete(e),t.remove()),e.style.pointerEvents="",n.style.transform=""},p="input, textarea, [no-blur], [contenteditable]",_=(e,n,t,o,s)=>B(this,null,function*(){if(!t&&!o)return;const a=((e,n,t)=>((e,n,t,o)=>{const s=e.top,a=e.bottom,d=n.top,i=d+15,m=.75*Math.min(n.bottom,o-t)-a,T=i-s,r=Math.round(m<0?-m:T>0?-T:0),f=Math.min(r,s-d),w=Math.abs(f)/.3;return{scrollAmount:f,scrollDuration:Math.min(400,Math.max(150,w)),scrollPadding:t,inputSafeY:4-(s-i)}})((e.closest("ion-item,[ion-item]")||e).getBoundingClientRect(),n.getBoundingClientRect(),t,e.ownerDocument.defaultView.innerHeight))(e,t||o,s);if(t&&Math.abs(a.scrollAmount)<4)n.focus();else if(g(e,n,!0,a.inputSafeY),n.focus(),(0,l.r)(()=>e.click()),"undefined"!=typeof window){let d;const c=()=>B(this,null,function*(){void 0!==d&&clearTimeout(d),window.removeEventListener("ionKeyboardDidShow",i),window.removeEventListener("ionKeyboardDidShow",c),t&&(yield t.scrollByPoint(0,a.scrollAmount,a.scrollDuration)),g(e,n,!1,a.inputSafeY),n.focus()}),i=()=>{window.removeEventListener("ionKeyboardDidShow",i),window.addEventListener("ionKeyboardDidShow",c)};if(t){const u=yield t.getScrollElement();if(a.scrollAmount>u.scrollHeight-u.clientHeight-u.scrollTop)return"password"===n.type?(a.scrollAmount+=50,window.addEventListener("ionKeyboardDidShow",i)):window.addEventListener("ionKeyboardDidShow",c),void(d=setTimeout(c,1e3))}c()}}),M="$ionPaddingTimer",N=(e,n)=>{if("INPUT"!==e.tagName||e.parentElement&&"ION-INPUT"===e.parentElement.tagName||e.parentElement&&e.parentElement.parentElement&&"ION-SEARCHBAR"===e.parentElement.parentElement.tagName)return;const t=e.closest("ion-content");if(null===t)return;const o=t[M];o&&clearTimeout(o),n>0?t.style.setProperty("--keyboard-offset",`${n}px`):t[M]=setTimeout(()=>{t.style.setProperty("--keyboard-offset","0px")},120)},W=e=>{const n=document,t=e.getNumber("keyboardHeight",290),o=e.getBoolean("scrollAssist",!0),s=e.getBoolean("hideCaretOnScroll",!0),a=e.getBoolean("inputBlurring",!0),d=e.getBoolean("scrollPadding",!0),c=Array.from(n.querySelectorAll("ion-input, ion-textarea")),i=new WeakMap,u=new WeakMap,m=r=>B(this,null,function*(){yield new Promise(y=>(0,l.c)(r,y));const f=r.shadowRoot||r,I=f.querySelector("input")||f.querySelector("textarea"),w=r.closest("ion-content"),P=w?null:r.closest("ion-footer");if(I){if(w&&s&&!i.has(r)){const y=((e,n,t)=>{if(!t||!n)return()=>{};const o=c=>{D(n)&&g(e,n,c)},s=()=>g(e,n,!1),a=()=>o(!0),d=()=>o(!1);return(0,l.a)(t,"ionScrollStart",a),(0,l.a)(t,"ionScrollEnd",d),n.addEventListener("blur",s),()=>{(0,l.b)(t,"ionScrollStart",a),(0,l.b)(t,"ionScrollEnd",d),n.addEventListener("ionBlur",s)}})(r,I,w);i.set(r,y)}if((w||P)&&o&&!u.has(r)){const y=((e,n,t,o,s)=>{let a;const d=i=>{a=(0,l.p)(i)},c=i=>{if(!a)return;const u=(0,l.p)(i);!((e,n,t)=>{if(n&&t){const o=n.x-t.x,s=n.y-t.y;return o*o+s*s>e*e}return!1})(6,a,u)&&!D(n)&&(i.stopPropagation(),_(e,n,t,o,s))};return e.addEventListener("touchstart",d,!0),e.addEventListener("touchend",c,!0),()=>{e.removeEventListener("touchstart",d,!0),e.removeEventListener("touchend",c,!0)}})(r,I,w,P,t);u.set(r,y)}}});a&&(()=>{let e=!0,n=!1;const t=document;(0,l.a)(t,"ionScrollStart",()=>{n=!0}),t.addEventListener("focusin",()=>{e=!0},!0),t.addEventListener("touchend",d=>{if(n)return void(n=!1);const c=t.activeElement;if(!c||c.matches(p))return;const i=d.target;i!==c&&(i.matches(p)||i.closest(p)||(e=!1,setTimeout(()=>{e||c.blur()},50)))},!1)})(),d&&(e=>{const n=document;n.addEventListener("focusin",s=>{N(s.target,e)}),n.addEventListener("focusout",s=>{N(s.target,0)})})(t);for(const r of c)m(r);n.addEventListener("ionInputDidLoad",r=>{m(r.detail)}),n.addEventListener("ionInputDidUnload",r=>{(r=>{if(s){const f=i.get(r);f&&f(),i.delete(r)}if(o){const f=u.get(r);f&&f(),u.delete(r)}})(r.detail)})}}}]);